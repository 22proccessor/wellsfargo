$(function(){$(".productListWrapper").stickyTableHeaders();});(function($,window,undefined){var name="stickyTableHeaders",id=0,stickyHeaderClientRect=$(".compareTitle")&&$(".compareTitle")[0]&&$(".compareTitle")[0].getBoundingClientRect(),pageYOffset=stickyHeaderClientRect&&(stickyHeaderClientRect.top+stickyHeaderClientRect.height-(WF.Page.lang==="es"?10:0)),defaults={fixedOffset:0,leftOffset:0,marginTop:0,scrollableArea:window};function BuildStickyHeader(el,options){var base=this;base.$document=$(document);base.$el=$(el);base.el=el;base.id=id++;base.$window=$(window);base.$el.bind("destroyed",$.proxy(base.teardown,base));base.$clonedHeader=null;base.$originalHeader=null;base.isSticky=false;base.hasBeenSticky=false;base.leftOffset=null;base.topOffset=null;base.bind=function(){base.$scrollableArea.on("scroll."+name,base.toggleHeaders);if(!base.isWindowScrolling){base.$window.on("scroll."+name+base.id,base.setPositionValues);base.$window.on("resize."+name+base.id,base.toggleHeaders);}base.$scrollableArea.on("resize."+name,base.toggleHeaders);base.$scrollableArea.on("resize."+name,base.updateWidth);};base.unbind=function(){base.$scrollableArea.off("."+name,base.toggleHeaders);if(!base.isWindowScrolling){base.$window.off("."+name+base.id,base.setPositionValues);base.$window.off("."+name+base.id,base.toggleHeaders);}base.$scrollableArea.off("."+name,base.updateWidth);};base.destroy=function(){base.$el.unbind("destroyed",base.teardown);base.teardown();};base.init=function(){base.$el.each(function(){var $this=$(this);$this.css("padding",0);base.$originalHeader=$(".compareTitle",this);base.$clonedHeader=base.$originalHeader.clone();$this.trigger("clonedHeader."+name,[base.$clonedHeader]);base.$clonedHeader.addClass("tableFloatingHeader");base.$clonedHeader.attr("id","compareTitleFloating");base.$clonedHeader.css("display","none");base.$originalHeader.addClass("tableFloatingHeaderOriginal");base.$originalHeader.after(base.$clonedHeader);base.$printStyle=$('<style type="text/css" media="print">'+".tableFloatingHeader{display:none !important;}"+".tableFloatingHeaderOriginal{position:static !important;}"+"</style>");$("head").append(base.$printStyle);});base.setOptions(options);base.updateWidth();base.toggleHeaders();base.bind();};base.teardown=function(){if(base.isSticky){base.$originalHeader.css("position","static");}$.removeData(base.el,"plugin_"+name);base.unbind();base.$clonedHeader.remove();base.$originalHeader.removeClass("tableFloatingHeaderOriginal").css("visibility","visible");base.$printStyle.remove();base.el=null;base.$el=null;};base.toggleHeaders=function(){if(base.$el){base.$el.each(function(){var $this=$(this),newLeft,newTopOffset=base.isWindowScrolling?(isNaN(base.options.fixedOffset)?base.options.fixedOffset.outerHeight():base.options.fixedOffset):base.$scrollableArea.offset().top+(!isNaN(base.options.fixedOffset)?base.options.fixedOffset:0),offset=$this.offset(),scrollTop=base.$scrollableArea.scrollTop()+newTopOffset,scrollLeft=base.$scrollableArea.scrollLeft(),scrolledPastTop=base.isWindowScrolling?scrollTop>offset.top:newTopOffset>offset.top,notScrolledPastBottom=(base.isWindowScrolling?scrollTop:0)<(offset.top+$this.height()-base.$clonedHeader.height()-(base.isWindowScrolling?0:newTopOffset));if(scrolledPastTop&&notScrolledPastBottom){newLeft=offset.left-scrollLeft+base.options.leftOffset;if(WF.Browser.isMobile&&(window.location.pathname).includes("/checking/compare-checking-accounts")){var newTop=window.pageYOffset-pageYOffset;if(pageYOffset<0){newTop=Math.abs(pageYOffset);pageYOffset=window.pageYOffset-Math.abs(pageYOffset);}base.$originalHeader.css({"position":"fixed","margin":"auto","left":window.pageXOffset,"z-index":9999,"top":newTop});base.leftOffset=window.pageXOffset;base.topOffset=newTop;}else{base.$originalHeader.css({"position":"fixed","margin-top":base.options.marginTop,"left":newLeft,"z-index":999});base.leftOffset=newLeft;base.topOffset=newTopOffset;}base.$clonedHeader.css("display","");if(!base.isSticky){base.isSticky=true;base.updateWidth();}base.setPositionValues();}else{if(base.isSticky){base.$originalHeader.css("position","static");base.$clonedHeader.css("display","none");base.isSticky=false;}}});}};base.setPositionValues=function(){var winScrollTop=base.$window.scrollTop(),winScrollLeft=base.$window.scrollLeft();if(!base.isSticky||winScrollTop<0||winScrollTop+base.$window.height()>base.$document.height()||winScrollLeft<0||winScrollLeft+base.$window.width()>base.$document.width()){return;}base.$originalHeader.css({"top":base.topOffset-(base.isWindowScrolling?0:winScrollTop),"left":base.leftOffset-(base.isWindowScrolling?0:winScrollLeft)});};base.updateWidth=function(){if(!base.isSticky){return;}if(!base.$originalHeaderCells){base.$originalHeaderCells=$("th,td",base.$originalHeader);}if(!base.$clonedHeaderCells){base.$clonedHeaderCells=$("th,td",base.$clonedHeader);}var cellWidths=base.getWidth(base.$clonedHeaderCells);base.setWidth(cellWidths,base.$clonedHeaderCells,base.$originalHeaderCells);base.$originalHeader.css("width",base.$clonedHeader.width());};base.getWidth=function($clonedHeaders){var widths=[];$clonedHeaders.each(function(index){var width,$this=$(this);if($this.css("box-sizing")==="border-box"){width=$this[0].getBoundingClientRect().width;}else{var $origTh=$("th",base.$originalHeader);if($origTh.css("border-collapse")==="collapse"){if(window.getComputedStyle){width=parseFloat(window.getComputedStyle(this,null).width);}else{var leftPadding=parseFloat($this.css("padding-left"));var rightPadding=parseFloat($this.css("padding-right"));var border=parseFloat($this.css("border-width"));width=$this.outerWidth()-leftPadding-rightPadding-border;}}else{width=$this.width();}}widths[index]=width;});return widths;};base.setWidth=function(widths,$clonedHeaders,$origHeaders){$clonedHeaders.each(function(index){var width=widths[index];$origHeaders.eq(index).css({"min-width":width,"max-width":width});});};base.setOptions=function(options){base.options=$.extend({},defaults,options);base.$scrollableArea=$(base.options.scrollableArea);base.isWindowScrolling=base.$scrollableArea[0]===window;};base.updateOptions=function(options){base.setOptions(options);base.unbind();base.bind();base.updateWidth();base.toggleHeaders();};base.init();}$.fn[name]=function(options){return this.each(function(){var instance=$.data(this,"plugin_"+name);if(instance){if(typeof options==="string"){instance[options].apply(instance);}else{instance.updateOptions(options);}}else{if(options!=="destroy"){$.data(this,"plugin_"+name,new BuildStickyHeader(this,options));}}});};})(jQuery,window);function checkTabPress(e){var ele=document.activeElement;var x=$(window).scrollTop();if(e.keyCode===9&&ele.nodeName.toLowerCase()==="a"&&x>=670&&x<=880){$(window).scrollTop(x-175);}}document.addEventListener("keyup",function(e){checkTabPress(e);},false);if($(".productListWrapper").is(":visible")){$(window).scroll(function(event){var y=$(this).scrollTop();if(y>=280){$(".compareTitle").addClass("shadow");}else{$(".compareTitle").removeClass("shadow");}});}WF.CHK={logC2TtoolEvent:function(toolsData){return $.ajax({url:"/c2tEvents/event",type:"POST",data:toolsData});},simplifyData:function(applicationCode,pageIdentifier,clickName,clickType,productCode,clickPurposeName,subProductCode){var eventObject={"url":window.location.href,"applicationCode":applicationCode,"eventStructure[ClickCreator]":applicationCode+"_"+pageIdentifier+"_Click","headerStructure[HeaderCreator]":"header_"+applicationCode,"data[clickType]":clickType,"data[clickItemName]":clickName,"data[clickPurposeName]":clickPurposeName,"data[product]":productCode,"data[subProduct]":subProductCode};return eventObject;},fireC2TDDSTCompletionEvent:function(applicationCode,pageIdentifier,clickName,clickType,productCode,clickPurposeName,subProductCode,callback){var defaultObject={"log":1,"eventsOrder":[{"CompletionCreator":" 1"},{"ClickCreator":"2"}],"eventStructure[CompletionCreator]":applicationCode+"_"+pageIdentifier+"_Completion"};
var eventObject=WF.CHK.simplifyData(applicationCode,pageIdentifier,clickName,clickType,productCode,clickPurposeName,subProductCode);var stdOptions=$.extend(eventObject,defaultObject);WF.CHK.logC2TtoolEvent(stdOptions).done(callback);},c2tClickEvent:function(applicationCode,pageIdentifier,clickName,clickType,productCode,clickPurposeName,subProductCode){var eventObject=WF.CHK.simplifyData(applicationCode,pageIdentifier,clickName,clickType,productCode,clickPurposeName,subProductCode);WF.CHK.logC2TtoolEvent(eventObject);}};var pageIdentifier="CheckingAccountCompare";if($("div.productList a.c93")){$("div.productList a.c93").on("click",function(evt){var tagText=$(this).text();var accountName=$(this).parents("span").attr("data-purposename");var strHref=$(this).attr("href");var strHrefVal=strHref.split("=");if(typeof strHrefVal[2]!=="undefined"){var productsVal=strHrefVal[2].split("-");var category=null;var subCategory=null;if(typeof productsVal[0]!=="undefined"){category=productsVal[0].substring(0,3);}if(typeof productsVal[1]!=="undefined"){subCategory=productsVal[1].substring(0,3);}if(category!=null&&subCategory!=null){WF.CHK.fireC2TDDSTCompletionEvent("DDST",pageIdentifier,tagText,"BUTTON",category,accountName,subCategory);}}else{WF.CHK.c2tClickEvent("DDST",pageIdentifier,tagText,"BUTTON","",accountName);}});}if($("div.compareTitle h2")){$("div.compareTitle h2").on("click",function(evt){var accountName=$(this).text();WF.CHK.c2tClickEvent("DDST",pageIdentifier,accountName,"LINK","",accountName);});}